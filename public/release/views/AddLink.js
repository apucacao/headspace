define(["underscore","jquery","backbone","models/Stream"],function(a,b,c,d){var e=c.View.extend({el:"#dialog",initialize:function(){a.bindAll(this,"save","onLoad","onClose"),b(this.el).lightbox_me({centered:!0,onLoad:this.onLoad,onClose:this.onClose}),this.form=b("form",this.el),this.form.validate({debug:!0,rules:{url:{required:!0,url:!0},note:{required:!0,maxlength:140}},submitHandler:this.save})},save:function(a){return d.create(this.serialize()),b(this.el).trigger("close"),!1},serialize:function(){return{url:b("input#url",this.el).val(),note:b("input#note",this.el).val()}},onLoad:function(){this.form.find("input").first().focus()},onClose:function(){this.form.find("input").val("")}});return e})